--- percona-server-8.0.13-3/router/CMakeLists.txt	2018-12-19 17:31:11.000000000 +0000
+++ percona-server-8.0.13-3/router/CMakeLists.txt.new	2019-01-12 23:43:06.757437213 +0000
@@ -51,20 +51,20 @@ ELSE()
   PROJECT("MySQLRouter")
 ENDIF()
 
-IF(SOLARIS)
-  # disable rapidjson optimisation on Solaris as it breaks
-  # shared objects that build with -fPIC
-  ADD_DEFINITIONS(-DRAPIDJSON_48BITPOINTER_OPTIMIZATION=0)
-
-  # Sun Studio 12.6 creates a bogus code when -x02 is used
-  # that crashes whenever std::condition_variable::wait_for() is used
-  IF(CMAKE_SYSTEM_PROCESSOR MATCHES "x86_64"
-      OR CMAKE_SYSTEM_PROCESSOR MATCHES "i386")
-    STRING_APPEND(CMAKE_CXX_FLAGS_RELWITHDEBINFO " -xO1")
-    STRING_APPEND(CMAKE_CXX_FLAGS_RELEASE " -xO1")
-    STRING_APPEND(CMAKE_CXX_FLAGS_MINSIZEREL " -xO1")
-  ENDIF()
-ENDIF()
+#IF(SOLARIS)
+#  # disable rapidjson optimisation on Solaris as it breaks
+#  # shared objects that build with -fPIC
+#  ADD_DEFINITIONS(-DRAPIDJSON_48BITPOINTER_OPTIMIZATION=0)
+#
+#  # Sun Studio 12.6 creates a bogus code when -x02 is used
+#  # that crashes whenever std::condition_variable::wait_for() is used
+#  IF(CMAKE_SYSTEM_PROCESSOR MATCHES "x86_64"
+#      OR CMAKE_SYSTEM_PROCESSOR MATCHES "i386")
+#    STRING_APPEND(CMAKE_CXX_FLAGS_RELWITHDEBINFO " -xO1")
+#    STRING_APPEND(CMAKE_CXX_FLAGS_RELEASE " -xO1")
+#    STRING_APPEND(CMAKE_CXX_FLAGS_MINSIZEREL " -xO1")
+#  ENDIF()
+#ENDIF()
 
 INCLUDE(${CMAKE_SOURCE_DIR}/cmake/rapidjson.cmake)
 
